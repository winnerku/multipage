/**
 * PPDWebUI - 拍拍贷创新业务组Hybrid面向H5接口类库
 * @authors    Alec Yin
 * @date       Fri Jul 14 2017 15:30:36 GMT+0800 (中国标准时间)
 * @email      yinluhui@ppdai.com
 * @version    v1.0.0
 * @license    @license ppdeal 1.0.0 Copyright (c) 2017, The ppdeal All Rights Reserved
 */
var _V={android:!1,ios:!1,cdvUrlAndroid:"//loanweb.ppdaicdn.com/PPDWebUI/cordova/android/cordova.js",cdvUrlIOS:"//loanweb.ppdaicdn.com/PPDWebUI/cordova/ios/cordova.js",cdvReady:!1},_basefn={init:function(){var e=window.navigator.userAgent.toLowerCase();_V.android=e.match(/ppdai-android\/([\d.]+)/),_V.ios=e.match(/ppdai-ios\/([\d.]+)/),(_V.android||_V.ios)&&(_basefn.loadJsSrc(_V.ios&&_V.cdvUrlIOS||_V.android&&_V.cdvUrlAndroid),document.addEventListener("deviceready",function(){_V.cdvReady=!0},!1))},isArray:function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},loadJsSrc:function(e){e=e||[],_basefn.isArray(e)||(e=[e]);for(var o=0;o<e.length;o++){var n=document.createElement("script");n.type="text/javascript",n.src=e[o],document.getElementsByTagName("head")[0].appendChild(n)}},CheckCordovaReady:function(e){if(_V.android||_V.ios){if(e=e||function(){},_V.cdvReady)return void e();var o=setInterval(function(){_V.cdvReady&&(console&&console.log("cordova 加载完成！--PPDWebUI"),e(),clearInterval(o))}.bind(this),100)}},cordovaExec:function(e,o,n){var c=e,a=c[0]||[],r=c[1]||function(){},i=c[2]||function(){};"function"==typeof a&&(i=r,r=a,a=[]),_basefn.isArray(a)||(a=[a]),_basefn.CheckCordovaReady(function(){cordova.exec(r,i,o,n,a)})},getCookie:function(e){var o,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(o=document.cookie.match(n))?o[2]:null},getACTokenSuccess:function(e,o){var n=e.auth,c=document.createElement("iframe");c.style.display="none",c.src=n,c.name="ppdwebui_create",c.id="ppdwebui_create",document.body.appendChild(c);var a=null,r=setInterval(function(){a=_basefn.getCookie("token"),a&&(document.body.removeChild(c),o(a),clearInterval(r))}.bind(this),100)}};_basefn.init();var PPDWebUI={os:{android:!!_V.android,ios:!!_V.ios,inApp:!!_V.android||!!_V.ios,buildVersion:_V.android&&_V.android[1]||_V.ios&&_V.ios[1]},SocialService:{share:function(){_basefn.cordovaExec(arguments,"SocialService","share")}},AccountService:{username:function(){_basefn.cordovaExec(arguments,"AccountService","username")},auth:function(){_basefn.cordovaExec(arguments,"AccountService","auth")},getToken:function(e,o){e=e||function(){},o=o||function(){};var n=[{url:"//loanweb.ppdaicdn.com/PPDWebUI/tokenReturn.html"},function(o){_basefn.getACTokenSuccess(o,e)},o];_basefn.cordovaExec(n,"AccountService","auth")}},CommonService:{goHome:function(){_basefn.cordovaExec(arguments,"CommonService","navigateTo")},openUrl:function(){_basefn.cordovaExec(arguments,"CommonService","openUrl")},close:function(){_basefn.cordovaExec(arguments,"CommonService","close")}}};